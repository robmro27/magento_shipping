
<label for="deliverydate">Delivery date</label>
<input id="deliverydate" type="radio" name="deliverydate" value="<?php echo $this->getPrice();?>"/>

<div class="buttons-set" id="shipping-method-buttons-container">
    <p class="back-link"><a href="#" onclick="checkout.back(); return false;"><small>&laquo; </small><?php echo $this->__('Back') ?></a></p>
    <button type="button" class="button" onclick="shipping.save()"><span><span><?php echo $this->__('Continue') ?></span></span></button>
    <span id="shipping-method-please-wait" class="please-wait" style="display:none;">
        <img src="<?php echo $this->getSkinUrl('images/opc-ajax-loader.gif') ?>" alt="<?php echo Mage::helper('core')->quoteEscape($this->__('Loading next step...')) ?>" title="<?php echo Mage::helper('core')->quoteEscape($this->__('Loading next step...')) ?>" class="v-middle" /> <?php echo $this->__('Loading next step...') ?>
    </span>
</div>

<script type="text/javascript">
//<![CDATA[
var radioSelectorString = 'input[type="radio"][name="deliverydate"]';
$$(radioSelectorString).each(function(el){
    Event.observe(el, 'click', function(){
        if (el.checked == true){
            
        }
            var price = el.getValue();
 
            $$(radioSelectorString).each( function(el){ el.disable(); } );
 
            new Ajax.Request('<?php echo $this->getPostUrl() ?>', {
                method: 'post',
                parameters: { 'price': price },
                onSuccess: function(transport){ 
                    //var json = transport.responseText.evalJSON();
                    
                    $$(radioSelectorString).each( function(el){ el.enable(); } );
                    shipping.save();    
                            
                        
                    
                },
                onFailure: function(){ 
                    $$(radioSelectorString).each( function(el){ el.enable(); } );
                }
            });            
    });
});
//]]>
</script>